(this["webpackJsonpkf-pdf-viewer"]=this["webpackJsonpkf-pdf-viewer"]||[]).push([[0],{22:function(e,t){},35:function(e,t,n){},46:function(e,t){},47:function(e,t){},48:function(e,t){},49:function(e,t){},50:function(e,t){},72:function(e,t,n){"use strict";n.r(t);n(34),n(35);var r=n(0),o=n.n(r),c=n(20),i=n.n(c),a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var u=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),o(e),c(e),i(e)}))},s=n(3),d=n(21),f=n(4),b=n(5),p=n.n(b),h=n(6),j=n(13),O=n(10),m=function(){var e=Object(h.a)(p.a.mark((function e(t){var n,r,o,c,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.pdf,"string"!==typeof(r=t.outlineNode).dest){e.next=7;break}return e.next=4,n.getDestination(r.dest);case 4:o=e.sent,e.next=8;break;case 7:o=r.dest;case 8:if(o){e.next=10;break}throw Error("can not get destination: ".concat(o));case 10:return c=o[0],e.next=13,n.getPageIndex(c);case 13:return i=e.sent,e.abrupt("return",i+1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(h.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getTextContent();case 2:return n=e.sent,r=n.items.map((function(e){return e.str||""})).join(""),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Array(t.numPages).fill(null).map(function(){var e=Object(h.a)(p.a.mark((function e(n,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=g,e.next=3,t.getPage(r+1);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=3,Promise.all(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=n(32),k=n(2),w={margin:"3px 5px",padding:"1px 3px",backgroundColor:"#f9f9f9",border:"1px solid #aaa",borderRadius:"2px",boxShadow:"1px 2px 2px #ddd",fontSize:"0.85em"},y=function(e){var t=e.keys,n=null===t?[]:"string"===typeof t?[t]:t;return Object(k.jsx)(k.Fragment,{children:n.map((function(e){return Object(k.jsx)("span",{style:w,children:e},e)}))})},S=Object(r.memo)((function(e){var t=e.text,n=e.matchedIndexes,r=new Set(n);return Object(k.jsx)("div",{children:t.split("").map((function(e,t){var n=r.has(t),o={color:n?"coral":"#333",fontWeight:n?"bold":"normal"};return Object(k.jsx)("span",{style:o,children:e},t)}))})})),C=n(11),P=n.n(C),I=function(e){var t=Object(r.useState)(e),n=Object(s.a)(t,2),o=n[0],c=n[1];return[o,{set:c,on:Object(r.useCallback)((function(){c(!0)}),[]),off:Object(r.useCallback)((function(){c(!1)}),[]),toggle:Object(r.useCallback)((function(){c((function(e){return!e}))}),[])}]},z=n(27),R=function e(){var t=this;Object(z.a)(this,e),this.promise=void 0,this._resolve=void 0,this._reject=void 0,this.resolve=function(e){return t._resolve(e)},this.reject=function(e){return t._reject(e)},this._resolve=function(){throw Error("_resolve is not initialized yet")},this._reject=function(){throw Error("_reject is not initialized yet")},this.promise=new Promise((function(e,n){t._resolve=e,t._reject=n}))},E=n(14),T=n.n(E),L=(n(63),function(e){var t=e.keybindings,n=e.commandCallbacks,o=e.commands,c=e.bindGlobal,i=void 0!==c&&c,a=e.enabled,l=void 0===a||a,u=e.onBeforeCommand,s=e.onAfterCommand,d=Object(r.useRef)(n);d.current=n,Object(r.useEffect)((function(){if(l)return o.forEach((function(e){var n=t[e];n&&(i?T.a.bindGlobal(n,(function(t){var n,r;t.preventDefault(),null===u||void 0===u||u(e),null===(n=(r=d.current)[e])||void 0===n||n.call(r),null===s||void 0===s||s(e)})):T.a.bind(n,(function(t){var n,r;t.preventDefault(),null===u||void 0===u||u(e),null===(n=(r=d.current)[e])||void 0===n||n.call(r),null===s||void 0===s||s(e)})))})),function(){o.forEach((function(e){var n=t[e];n&&T.a.unbind(n)}))}}),[t,l,i,o,u,s])}),F={content:{display:"flex",flexDirection:"column",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"80%",height:"80%",overflow:"hidden",padding:"3px",boxSizing:"border-box"}},H={margin:0,padding:"2px 8px",boxSizing:"border-box",color:"#333"},B={width:"100%",margin:0,padding:"4px 8px",fontSize:"1.2em",boxSizing:"border-box",border:"solid 2px orange",color:"#333"},Q={width:"100%",overflow:"hidden",listStyleType:"none",margin:0,padding:0,color:"#333"},M={width:"100%",padding:0,margin:0,borderBottom:"1px solid #aaa",boxSizing:"border-box",color:"#333"},D=function(e){var t=e.title,n=e.placeHolder,o=e.isOpen,c=e.items,i=e.selectedIndex,a=e.onClose,l=e.onTextChange,u=e.onMouseDownOutside,s=e.renderItem,d=e.parentSelector,f=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e;null===(e=f.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"nearest"})})),Object(k.jsx)("div",{onMouseDown:u,children:Object(k.jsxs)(P.a,{isOpen:o,onRequestClose:a,style:F,contentLabel:"Command Palette",parentSelector:d,children:[t&&Object(k.jsx)("div",{style:H,children:t}),Object(k.jsx)("input",{autoFocus:!0,onChange:l,type:"text",placeholder:n,style:B}),Object(k.jsx)("ul",{style:Q,children:c.map((function(e,t){return Object(k.jsx)("li",{style:M,ref:t===i?f:void 0,children:s(e,t===i)},"".concat(e.name))}))})]})})},N=o.a.memo(D),A=["cancelQuickPick","selectItemQuickPick","nextItemQuickPick","previousItemQuickPick"],U={cancelQuickPick:["esc","ctrl+["],selectItemQuickPick:["enter","ctrl+m"],nextItemQuickPick:["down","ctrl+j","ctrl+n","tab"],previousItemQuickPick:["up","ctrl+k","ctrl+p","shift+tab"]},W=function(e){var t=e.renderItem,n=e.textFilter,o=Object(r.createContext)({isOpen:!1,showQuickPick:function(){throw Error("QuickPickGlobals is not initialized yet")},cancelQuickPick:function(){throw Error("QuickPickGlobals is not initialized yet")},selectItemQuickPick:function(){throw Error("QuickPickGlobals is not initialized yet")},nextItemQuickPick:function(){throw Error("QuickPickGlobals is not initialized yet")},previousItemQuickPick:function(){throw Error("QuickPickGlobals is not initialized yet")}});return{QuickPickContext:o,QuickPickProvider:function(e){var c=e.parentSelector,i=e.modalAppElement,a=void 0===i?"#root":i,l=e.children;P.a.setAppElement(a);var u=Object(r.useRef)(null),d=Object(r.useState)([]),b=Object(s.a)(d,2),p=b[0],h=b[1],j=Object(r.useState)(""),O=Object(s.a)(j,2),m=O[0],g=O[1],v=Object(r.useState)(""),x=Object(s.a)(v,2),w=x[0],y=x[1],S=function(e){var t=e.items,n=e.textFilter,o=Object(r.useState)(""),c=Object(s.a)(o,2),i=c[0],a=c[1],l=Object(r.useState)(0),u=Object(s.a)(l,2),d=u[0],f=u[1],b=I(!1),p=Object(s.a)(b,2),h=p[0],j=p[1],O=j.on,m=j.off,g=Object(r.useState)([]),v=Object(s.a)(g,2),x=v[0],k=v[1],w=Object(r.useCallback)((function(){a(""),f(0),O()}),[O]),y=Object(r.useCallback)((function(){a(""),f(0),m()}),[m]),S=Object(r.useCallback)((function(){h?y():w()}),[h,w,y]),C=Object(r.useCallback)((function(){var e,t,n=null!==(e=null===(t=x[d])||void 0===t?void 0:t.content)&&void 0!==e?e:null;return y(),n}),[d,x,y]),P=Object(r.useCallback)((function(e){a(e),f(0)}),[]),z=Object(r.useCallback)((function(){f((function(e){return Math.min(e+1,x.length-1)}))}),[x]),R=Object(r.useCallback)((function(){f((function(e){return Math.max(0,e-1)}))}),[]);return Object(r.useEffect)((function(){var e=[];t.forEach((function(t){var r=n(i,t.name);null!==r&&e.push({name:t.name,matchedIndexes:r,content:t})})),k(e)}),[i,h,t,n]),{isOpen:h,open:w,close:y,toggle:S,nextItem:z,previousItem:R,select:C,chanegeInputText:P,matchedItems:x,selectedIndex:d}}({items:p,textFilter:n}),C=S.isOpen,z=S.open,E=S.close,T=S.nextItem,F=S.previousItem,H=S.select,B=S.chanegeInputText,Q=S.matchedItems,M=S.selectedIndex,D=Object(r.useCallback)((function(e){B(e.target.value)}),[B]),W=Object(r.useCallback)((function(e,t){var n=t||{},r=n.placeHolder,o=void 0===r?"":r,c=n.title,i=void 0===c?"":c;g(o),y(i),h(e);var a=new R;return u.current=a,z(),a.promise}),[z]),G=Object(r.useCallback)((function(){var e;E(),null===(e=u.current)||void 0===e||e.resolve(null)}),[E]),_={cancelQuickPick:G,selectItemQuickPick:Object(r.useCallback)((function(){var e,t=H();null===(e=u.current)||void 0===e||e.resolve(t)}),[H]),nextItemQuickPick:T,previousItemQuickPick:F};L({keybindings:U,commandCallbacks:_,commands:A,bindGlobal:!0,enabled:C});var $=Object(f.a)({isOpen:C,showQuickPick:W},_);return Object(k.jsxs)(o.Provider,{value:$,children:[C&&Object(k.jsx)(N,{title:w,placeHolder:m,isOpen:C,items:Q,selectedIndex:M,onClose:G,onTextChange:D,onMouseDownOutside:G,renderItem:t,parentSelector:c}),l]})}}},G=n(28),_={substringFilter:function(e,t){var n=t.indexOf(e);return n>=0?Array(e.length).fill(0).map((function(e,t){return t+n})):null},regexFilter:function(e,t){try{var n=t.match(e);if(n){var r=n[0],o=n.index;return void 0===o?null:Array(r.length).fill(0).map((function(e,t){return t+o}))}return null}catch(c){return null}},fuzzyFilter:function(e,t){var n,r=[],o=0,c=Object(G.a)(e);try{for(c.s();!(n=c.n()).done;){var i=n.value;if((o=t.indexOf(i,o))<0)return null;r.push(o),o++}}catch(a){c.e(a)}finally{c.f()}return r}},$=function(e,t){var n=(null!==t&&void 0!==t?t:{}).ignoreCase,r=void 0!==n&&n;return function(t,n){return r&&(t=t.toLowerCase(),n=n.toLowerCase()),_[e](t,n)}},q={display:"flex",backgroundColor:"white",width:"100%",height:"100%",margin:0,padding:"4px 8px",boxSizing:"border-box"},J=Object(f.a)(Object(f.a)({},q),{},{backgroundColor:"#ddd"}),K=W({renderItem:function(e,t){var n=e.name,r=e.matchedIndexes,o=e.content;return Object(k.jsxs)("div",{style:t?J:q,children:[Object(k.jsx)(S,{text:n,matchedIndexes:r}),Object(k.jsx)("div",{style:{marginLeft:"auto"},children:Object(k.jsx)(y,{keys:o.keys})})]})},textFilter:$("fuzzyFilter",{ignoreCase:!0})}),Z=K.QuickPickContext,V=K.QuickPickProvider,X={backgroundColor:"white",width:"100%",height:"100%",margin:0,padding:"4px 8px",boxSizing:"border-box"},Y=Object(f.a)(Object(f.a)({},X),{},{backgroundColor:"#ddd"}),ee=W({renderItem:function(e,t){var n=e.name,r=e.matchedIndexes;return Object(k.jsx)("div",{style:t?Y:X,children:Object(k.jsx)(S,{text:n,matchedIndexes:r})})},textFilter:$("fuzzyFilter",{ignoreCase:!0})}),te=ee.QuickPickContext,ne=ee.QuickPickProvider,re={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"80%",height:"20%",overflow:"hidden",padding:"3px",boxSizing:"border-box"}},oe={margin:0,padding:"2px 8px",boxSizing:"border-box",color:"#333"},ce={width:"100%",margin:0,padding:"4px 8px",fontSize:"1.2em",boxSizing:"border-box",border:"solid 2px orange",color:"#333"},ie=function(e){var t=e.prompt,n=e.placeHolder,r=e.isOpen,o=e.onClose,c=e.onTextChange,i=e.onMouseDownOutside,a=e.parentSelector;return Object(k.jsx)("div",{onMouseDown:i,children:Object(k.jsxs)(P.a,{isOpen:r,onRequestClose:o,style:re,contentLabel:"Input Box",parentSelector:a,children:[Object(k.jsx)("input",{autoFocus:!0,onChange:c,type:"text",placeholder:n,style:ce}),t&&Object(k.jsx)("div",{style:oe,children:t})]})})},ae=["cancelInputBox","confirmInputBox"],le={cancelInputBox:["esc","ctrl+["],confirmInputBox:["enter","ctrl+m"]},ue=function(){var e=Object(r.createContext)({isOpen:!1,showInputBox:function(){throw Error("InputBoxGlobals is not initialized yet")},cancelInputBox:function(){throw Error("InputBoxGlobals is not initialized yet")},confirmInputBox:function(){throw Error("InputBoxGlobals is not initialized yet")}});return{InputBoxContext:e,InputBoxProvider:function(t){var n=t.parentSelector,o=t.modalAppElement,c=void 0===o?"#root":o,i=t.children;P.a.setAppElement(c);var a=Object(r.useRef)(null),l=Object(r.useState)(""),u=Object(s.a)(l,2),d=u[0],f=u[1],b=Object(r.useState)(""),p=Object(s.a)(b,2),h=p[0],j=p[1],O=Object(r.useState)(""),m=Object(s.a)(O,2),g=m[0],v=m[1],x=I(!1),w=Object(s.a)(x,2),y=w[0],S=w[1],C=S.on,z=S.off,E=Object(r.useCallback)((function(){C(),v("")}),[C]),T=Object(r.useCallback)((function(){z()}),[z]),F=Object(r.useCallback)((function(e){v(e.target.value)}),[]),H=function(){var e;T(),null===(e=a.current)||void 0===e||e.resolve(null)},B=function(){var e;T(),null===(e=a.current)||void 0===e||e.resolve(g)};L({keybindings:le,commandCallbacks:{cancelInputBox:H,confirmInputBox:B},commands:ae,bindGlobal:!0,enabled:y});var Q={isOpen:y,showInputBox:function(e){var t=e||{},n=t.placeHolder,r=void 0===n?"":n,o=t.prompt,c=void 0===o?"":o;f(r),j(c);var i=new R;return a.current=i,E(),i.promise},cancelInputBox:H,confirmInputBox:B};return Object(k.jsxs)(e.Provider,{value:Q,children:[y&&Object(k.jsx)(ie,{prompt:h,placeHolder:d,isOpen:y,onClose:H,onTextChange:F,onMouseDownOutside:H,parentSelector:n}),i]})}}}(),se=ue.InputBoxContext,de=ue.InputBoxProvider,fe=n(33),be={position:"fixed",top:0,left:0,width:"100%",height:"100%"},pe=function(e){var t=e.onDropFile,n=e.children,r=e.accept,o=e.dropzoneRef,c=Object(fe.a)({noKeyboard:!0,noClick:!0,maxFiles:1,onDrop:function(e){t(e[0])},accept:r}),i=c.getRootProps,a=c.getInputProps,l=c.open;return o&&(o.current={open:l}),Object(k.jsxs)("div",Object(f.a)(Object(f.a)({},i({onClick:function(e){return e.stopPropagation()}})),{},{style:be,children:[Object(k.jsx)("input",Object(f.a)({},a())),n]}))},he=["doNothing"].concat(["fullScreenOn","fullScreenOff","fullScreenToggle"],["showInfoOn","showInfoOff","showInfoToggle"],["prevPage","nextPage","firstPage","lastPage","goToPage"],["zoomReset","zoomIn","zoomOut","zoomFitWidth","zoomFitHeight"],["scrollLeft","scrollRight","scrollUp","scrollDown","scrollHalfPageDown","scrollHalfPageUp","scrollTop","scrollBottom","scrollCenter"],["rotateRight","rotateLeft"],["colorInvert","invertColorRateUp","invertColorRateDown"],["sidebarToggle"],["goToOutline","goToOutlineRecursive"],["search","searchNext","searchPrev","pickSearchList","highlightToggle"],["forwardPageHistory","backwardPageHistory"],["commandPaletteOpen","fileOpen"]),je=function(e){return e.replace(/^(\w)/,(function(e){return e.toUpperCase()})).replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([a-zA-Z])(\d)/g,"$1 $2").replace(/(\d)([a-zA-Z])/g,"$1 $2")},Oe={padding:"0px 40px",background:"white",width:"100%",height:"100%",overflow:"scroll"},me={borderCollapse:"collapse"},ge={backgroundColor:"#777",color:"#eee",border:"1px solid #ddd",padding:"4px"},ve={padding:"4px"},xe={padding:"4px"},ke={padding:"4px"},we=function(e){var t=e.keybindings;return Object(k.jsxs)("div",{style:Oe,children:[Object(k.jsx)("h3",{children:"How to Use"}),Object(k.jsxs)("ul",{children:[Object(k.jsxs)("li",{children:["command palette: ",Object(k.jsx)(y,{keys:t.commandPaletteOpen})]}),Object(k.jsxs)("li",{children:["open file:",Object(k.jsxs)("ul",{children:[Object(k.jsx)("li",{children:"drag and drop PDF file here."}),Object(k.jsxs)("li",{children:["keyboard shortcuts: ",Object(k.jsx)(y,{keys:t.fileOpen})]}),Object(k.jsx)("li",{children:"choose 'File Open' command in command palette"})]})]})]}),Object(k.jsx)("h3",{children:"Keybindings"}),Object(k.jsxs)("table",{style:me,children:[Object(k.jsx)("thead",{style:ge,children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{style:ve,children:"command"}),Object(k.jsx)("th",{style:ve,children:"keybord shortcuts"})]})}),Object(k.jsx)("tbody",{children:he.map((function(e,n){return Object(k.jsxs)("tr",{style:Object(f.a)(Object(f.a)({},xe),{},{backgroundColor:n%2===0?"#eee":"#fff"}),children:[Object(k.jsx)("td",{style:ke,children:je(e)}),Object(k.jsx)("td",{style:ke,children:Object(k.jsx)(y,{keys:t[e]})})]},e)}))})]})]})},ye=Object(r.memo)(O.b),Se={position:"fixed",zIndex:999},Ce=function(e){var t=e.onItemClick,n=e.onLoadSuccess,r=e.isOpen;return Object(k.jsx)("div",{style:Object(f.a)(Object(f.a)({},Se),{},{display:r?"block":"none"}),children:Object(k.jsx)(ye,{onItemClick:t,onLoadSuccess:n})})},Pe=Object(r.memo)(O.c),Ie=function(e,t){var n=e.split(t);if(n.length<=1)return e;var r=e.match(t);return n.reduce((function(e,t,n){return r&&r[n]?[].concat(Object(j.a)(e),[t,Object(k.jsx)("span",{style:{background:"rgba(255, 0, 0, 0.3)"},children:r[n]},n)]):[].concat(Object(j.a)(e),[t])}),[])},ze=function(e){var t=e.index,n=e.style,o=e.data,c=o.scale,i=o.rotate,a=o.isKeywordHighlighted,l=o.keyword,u=o.paddingSize,s=o.isScrolling,d=o.pageWidth,b=Object(r.useCallback)((function(e){var t=e.str;return Object(k.jsx)(k.Fragment,{children:Ie(t,l)})}),[l]);return Object(k.jsx)("div",{style:Object(f.a)(Object(f.a)({},n),{},{top:"".concat(parseFloat(n.top)+u,"px")}),children:Object(k.jsx)("div",{style:{width:"".concat(d,"px"),margin:"auto"},children:Object(k.jsx)(Pe,{pageNumber:t+1,scale:c,rotate:i,customTextRenderer:a?b:void 0,onLoadError:Object(r.useCallback)((function(e){return console.error("Error while loading page! "+e.message)}),[]),onRenderError:Object(r.useCallback)((function(e){return console.error("Error while loading page! "+e.message)}),[]),onGetTextError:Object(r.useCallback)((function(e){return console.error("Error while loading text layer items! "+e.message)}),[]),renderTextLayer:!s,renderAnnotationLayer:!1,renderInteractiveForms:!1})})})},Re=n(30),Ee=(function(){var e={anyOf:[{type:"null"},{type:"string"},{type:"array",items:[{type:"string"},{type:"string"}]}]},t={$schema:"http://json-schema.org/draft-04/schema#",type:"object",additionalProperties:!1,properties:{},required:[]};he.forEach((function(n){t.properties[n]=e}))}(),new Re.Validator,{doNothing:null,fullScreenOn:null,fullScreenOff:null,fullScreenToggle:"f",showInfoOn:null,showInfoOff:null,showInfoToggle:"s",prevPage:["shift+space","pageup"],nextPage:["space","pagedown"],firstPage:["g","ctrl+home"],lastPage:["G","ctrl+end"],goToPage:["ctrl+g","command+g"],zoomReset:"=",zoomIn:"+",zoomOut:"-",zoomFitWidth:"w",zoomFitHeight:"e",scrollLeft:["h","left"],scrollRight:["l","right"],scrollUp:["k","up"],scrollDown:["j","down"],scrollHalfPageDown:"d",scrollHalfPageUp:"u",scrollTop:["home","z t"],scrollBottom:["end","z b"],scrollCenter:["z z","z ."],rotateRight:">",rotateLeft:"<",colorInvert:"i",invertColorRateUp:")",invertColorRateDown:"(",highlightToggle:"#",sidebarToggle:"b",goToOutline:"o",goToOutlineRecursive:"O",search:"/",searchNext:"n",searchPrev:"N",pickSearchList:null,forwardPageHistory:"L",backwardPageHistory:"H",commandPaletteOpen:[":","command+shift+p","ctrl+shift+p"],fileOpen:["command+o","ctrl+o"]}),Te=[],Le=function(e){void 0!==e.id&&cancelAnimationFrame(e.id)},Fe=function(e,t){if(!(Te.length>0)){var n=function(e){var t={};return t.id=requestAnimationFrame((function n(){e(),t.id=requestAnimationFrame(n)})),t}((function(){e.scrollBy(t)}));Te.push(n)}},He=!1,Be=function(e){var t=e.fullScreenCommandCallbacks,n=e.height,o=e.width,c=e.paddingSize,i=void 0===c?5:c,a=e.scrollStep,l=void 0===a?25:a,u=e.scrollHalfPageStep,d=void 0===u?60:u,b=e.scaleMax,g=void 0===b?4:b,w=e.scaleMin,y=void 0===w?.1:w,S=e.scaleStep,C=void 0===S?.1:S,P=e.invertColorRateStep,I=void 0===P?.05:P,z=e.histroyMaxSize,R=void 0===z?999:z,E=Object(r.useState)(null),T=Object(s.a)(E,2),F=T[0],H=T[1],B=Object(r.useState)(null),Q=Object(s.a)(B,2),M=Q[0],D=Q[1],N=Object(r.useState)(Ee),A=Object(s.a)(N,1)[0],U=Object(r.useState)(""),W=Object(s.a)(U,2),G=W[0],_=W[1],$=Object(r.useState)(0),q=Object(s.a)($,2),J=q[0],K=q[1],V=Object(r.useState)(0),X=Object(s.a)(V,2),Y=X[0],ee=X[1],ne=Object(r.useState)(1),re=Object(s.a)(ne,2),oe=re[0],ce=re[1],ie=Object(r.useState)(500),ae=Object(s.a)(ie,2),le=ae[0],ue=ae[1],de=Object(r.useState)(1e3),fe=Object(s.a)(de,2),be=fe[0],Oe=fe[1],me=Object(r.useState)(!1),ge=Object(s.a)(me,2),ve=ge[0],xe=ge[1],ke=Object(r.useState)(!1),ye=Object(s.a)(ke,2),Se=ye[0],Pe=ye[1],Ie=Object(r.useState)(1),Re=Object(s.a)(Ie,2),Be=Re[0],Qe=Re[1],Me=Object(r.useState)(He),De=Object(s.a)(Me,2),Ne=De[0],Ae=De[1],Ue=Object(r.useState)(!1),We=Object(s.a)(Ue,2),Ge=We[0],_e=We[1],$e=Object(r.useState)(0),qe=Object(s.a)($e,2),Je=qe[0],Ke=qe[1],Ze=Object(r.useState)(""),Ve=Object(s.a)(Ze,2),Xe=Ve[0],Ye=Ve[1],et=Object(r.useState)(!0),tt=Object(s.a)(et,2),nt=tt[0],rt=tt[1],ot=Object(r.useState)([]),ct=Object(s.a)(ot,2),it=ct[0],at=ct[1],lt=Object(r.useState)(new Set([])),ut=Object(s.a)(lt,2),st=ut[0],dt=ut[1],ft=Object(r.useState)([]),bt=Object(s.a)(ft,2),pt=bt[0],ht=bt[1],jt=Object(r.useState)(-1),Ot=Object(s.a)(jt,2),mt=Ot[0],gt=Ot[1],vt=Object(r.useRef)(null),xt=Object(r.useRef)(null),kt=function(e){xt.current&&(Fe(xt.current,e),_e(!0))},wt=Object(r.useRef)(null),yt=Object(r.useRef)(null),St=Object(r.useRef)(null),Ct=Object(r.useContext)(Z),Pt=Object(r.useContext)(te),It=Object(r.useContext)(se),zt=[Ct,Pt,It].some((function(e){return e.isOpen})),Rt=function(){var e=Object(r.useState)(-1),t=Object(s.a)(e,2),n=t[0],o=t[1];return Object(r.useEffect)((function(){var e=function(e){if("0123456789".includes(e.key)){var t=Number(e.key);o((function(e){return Math.min(10*Math.max(e,0)+t,999)}))}},t=function(e){"0123456789".includes(e.key)||o(-1)};return document.addEventListener("keypress",e),document.addEventListener("keyup",t),function(){document.removeEventListener("keypress",e),document.removeEventListener("keyup",t)}}),[]),[n,function(){o(-1)}]}(),Et=Object(s.a)(Rt,2),Tt=Et[0],Lt=Et[1],Ft=Math.max(Tt,1),Ht=Y/90%2===0?be*oe:le*oe,Bt=Y/90%2===0?le*oe:be*oe,Qt=Ht+i,Mt=function(){var e=Object(h.a)(p.a.mark((function e(t){var n,r,o,c,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.outline,o=t.recursive,F&&r&&!zt){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Pt.showQuickPick(r.map((function(e){return{name:e.title,content:e}})));case 5:if(c=e.sent){e.next=8;break}return e.abrupt("return");case 8:if(!o||!(null===(n=c.content.items)||void 0===n?void 0:n.length)){e.next=12;break}Mt({outline:c.content.items,recursive:!0}),e.next=16;break;case 12:return e.next=14,m({pdf:F,outlineNode:c.content});case 14:i=e.sent,Ut(i);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Dt=function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F&&!zt&&0!==it.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,It.showInputBox({prompt:"input word to search"});case 4:e.sent&&((t=it.map((function(e,t){return e.includes(Xe)?t+1:-1})).filter((function(e){return e>0}))).length>0?(Ye(Xe),dt(new Set(t))):alert("can not find keyword: ".concat(Xe)));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Nt=function(){var e=Object(h.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=At+(n={forward:1,backward:-1}[t]);1<=r&&r<=J&&!st.has(r);)r+=n;r<1||r>J?alert("can not find next search result"):Ut(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){var e=function(){!function(){for(;;){var e=Te.pop();if(!e)break;Le(e)}}(),_e(!1)};return document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}}),[_e]);var At=Math.floor((Je+n/2)/Qt)+1,Ut=function(e,t){var n,r,o=(null!==t&&void 0!==t?t:{}).isPushHistory,c=void 0===o||o;Number.isInteger(e)&&(e<0&&(e+=J+1),e=Math.max(1,Math.min(J,e)),c&&(r=e,ht([].concat(Object(j.a)(pt.slice(0,mt+1)),[r]).slice(-R)),gt(mt+1)),null===(n=vt.current)||void 0===n||n.scrollToItem(e-1))},Wt=function(e){var t;null===(t=vt.current)||void 0===t||t.scrollTo(Je*e/oe),ce(e)},Gt=J*Qt+i-n,_t=Object(f.a)(Object(f.a)({doNothing:function(){}},t),{},{showInfoOn:function(){return Ae(!0)},showInfoOff:function(){return Ae(!1)},showInfoToggle:function(){return Ae(!Ne)},prevPage:function(){var e;return null===(e=vt.current)||void 0===e?void 0:e.scrollTo(Math.max(0,Je-Ft*Qt))},nextPage:function(){var e;return null===(e=vt.current)||void 0===e?void 0:e.scrollTo(Math.min(Gt,Je+Ft*Qt))},firstPage:function(){return Ut(Ft)},lastPage:function(){return Ut(Tt>=1?Tt:-1)},goToPage:function(){var e=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!zt){e.next=2;break}return e.abrupt("return");case 2:return e.t0=Ut,e.t1=Number,e.next=6,It.showInputBox({prompt:"input page number to go"});case 6:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),zoomReset:function(){return Wt(1)},zoomIn:function(){return Wt(Math.min(oe+Ft*C,g))},zoomOut:function(){return Wt(Math.max(oe-Ft*C,y))},zoomFitWidth:function(){return Wt(o/(Bt/oe))},zoomFitHeight:function(){return Wt(n/(Ht/oe))},scrollLeft:function(){return kt({left:Ft*-l})},scrollRight:function(){return kt({left:Ft*l})},scrollUp:function(){return kt({top:Ft*-l})},scrollDown:function(){return kt({top:Ft*l})},scrollHalfPageUp:function(){return kt({top:Ft*-d})},scrollHalfPageDown:function(){return kt({top:Ft*d})},scrollTop:function(){var e;return null===(e=vt.current)||void 0===e?void 0:e.scrollTo(i+Qt*(At-1))},scrollBottom:function(){var e;return null===(e=vt.current)||void 0===e?void 0:e.scrollTo(i-n+Qt*At)},scrollCenter:function(){var e;return null===(e=vt.current)||void 0===e?void 0:e.scrollTo(i+Qt*(At-1)-n/2+Ht/2)},rotateRight:function(){return ee((Y+90)%360)},rotateLeft:function(){return ee((Y+360-90)%360)},colorInvert:function(){return Pe(!Se)},invertColorRateUp:function(){return Qe(Math.min(Be+Ft*I,1))},invertColorRateDown:function(){return Qe(Math.max(Be-Ft*I,0))},search:Dt,searchNext:function(){return Nt("forward")},searchPrev:function(){return Nt("backward")},pickSearchList:function(){return alert("sorry not implemented yet")},highlightToggle:function(){return rt(!nt)},goToOutline:function(){return Mt({outline:M,recursive:!1})},goToOutlineRecursive:function(){return Mt({outline:M,recursive:!0})},sidebarToggle:function(){return xe(!ve)},forwardPageHistory:function(){pt.length>0&&mt+1<pt.length&&(gt(mt+1),Ut(pt[mt+1],{isPushHistory:!1}))},backwardPageHistory:function(){pt.length>0&&mt-1>=0&&(gt(mt-1),Ut(pt[mt-1],{isPushHistory:!1}))},commandPaletteOpen:function(){var e=Object(h.a)(p.a.mark((function e(){var t,n,r,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!zt){e.next=2;break}return e.abrupt("return");case 2:return t=he.map((function(e){return{name:je(e),command:e,keys:A[e]}})),e.next=5,Ct.showQuickPick(t);case 5:(null===(n=e.sent)||void 0===n?void 0:n.command)&&(null===(r=yt.current)||void 0===r||null===(o=r[n.command])||void 0===o||o.call(r));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fileOpen:function(){var e;return null===St||void 0===St||null===(e=St.current)||void 0===e?void 0:e.open()}});yt.current=_t,L({keybindings:A,commandCallbacks:_t,commands:he,onAfterCommand:Lt,enabled:!zt});var $t={scale:oe,rotate:Y,isKeywordHighlighted:nt,keyword:Xe,paddingSize:i,isScrolling:Ge,pageWidth:Bt};return G?Object(k.jsx)(pe,{onDropFile:function(e){return _(URL.createObjectURL(e))},dropzoneRef:St,children:Object(k.jsxs)("div",{style:{background:"gray",filter:Se?"invert(".concat(Be,")"):""},children:[Object(k.jsxs)(O.a,{inputRef:wt,file:G,onLoadSuccess:function(e){H(e),K(e.numPages),ht([1]),gt(0),Object(h.a)(p.a.mark((function t(){var n,r,o,c,i,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getPage(1);case 2:return n=t.sent,r=Object(s.a)(n.view,4),o=r[0],c=r[1],i=r[2],a=r[3],ue(i-o),Oe(a-c),t.t0=at,t.next=9,v(e);case 9:t.t1=t.sent,(0,t.t0)(t.t1);case 11:case"end":return t.stop()}}),t)})))()},options:{cMapUrl:"cmaps/",cMapPacked:!0},loading:Object(k.jsx)("div",{children:"loading..."}),onItemClick:function(e){var t=e.pageNumber;Ut(Number(t))},children:[Object(k.jsx)(Ce,{onItemClick:function(e){var t=e.pageNumber;Ut(Number(t))},onLoadSuccess:function(e){D(e)},isOpen:ve}),Object(k.jsx)(x.a,{height:n,itemCount:J,itemSize:Qt,width:o,overscanCount:2,itemData:$t,onScroll:function(e){var t=e.scrollOffset;return Ke(t)},ref:vt,outerRef:xt,children:ze})]}),Ne&&Object(k.jsx)("div",{style:{position:"fixed",top:0,left:0,backgroundColor:"rgba(255, 255, 255, 0.5)"},children:Object(k.jsx)("pre",{children:Object(k.jsxs)("code",{children:["state = ",JSON.stringify({url:G,height:n,width:o,page:"".concat(At,"/").concat(J),scale:oe,pageWidthRaw:le,pageHeightRaw:be,pageHeight:Ht,isSidebarOpen:ve,pdfLoaded:null!==F,scrollOffset:Je,isColorInverted:Se,invertColorRate:Be,rotate:Y,repeatCount:Tt,isModalOpen:zt,pageHistoryIndex:mt,pageHistory:JSON.stringify(pt)},null,"  ")]})})})]})}):Object(k.jsx)(pe,{onDropFile:function(e){return _(URL.createObjectURL(e))},dropzoneRef:St,children:Object(k.jsx)(we,{keybindings:A})})},Qe=n(31),Me=function(){var e=Object(r.useRef)(null),t=Object(r.useState)(!1),n=Object(s.a)(t,2),o=n[0],c=n[1],i=Object(r.useState)(document.documentElement.clientWidth),a=Object(s.a)(i,2),l=a[0],u=a[1],f=Object(r.useState)(document.documentElement.clientHeight),b=Object(s.a)(f,2),p=b[0],h=b[1];Object(r.useEffect)((function(){var e=Object(Qe.a)(250,(function(){u(document.documentElement.clientWidth),h(document.documentElement.clientHeight)}));return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var j=Object(d.b)(),O=Object(r.useCallback)((function(){o||j.enter()}),[o,j]),m=Object(r.useCallback)((function(){o&&j.exit()}),[o,j]),g=Object(r.useCallback)((function(){o?j.exit():j.enter()}),[o,j]),v=o?{width:"100%",height:"100%"}:{width:l,height:p},x=function(){return e.current?e.current:document.body},w={fullScreenOn:O,fullScreenOff:m,fullScreenToggle:g};return Object(k.jsx)(d.a,{handle:j,onChange:c,children:Object(k.jsx)("div",{ref:e,children:Object(k.jsx)(V,{parentSelector:x,children:Object(k.jsx)(ne,{parentSelector:x,children:Object(k.jsx)(de,{parentSelector:x,children:Object(k.jsx)("div",{style:v,children:Object(k.jsx)(Be,{fullScreenCommandCallbacks:w,height:p,width:l})})})})})})})};i.a.render(Object(k.jsx)(o.a.StrictMode,{children:Object(k.jsx)(Me,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");a?(function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):l(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):l(t,e)}))}}(),u()}},[[72,1,2]]]);
//# sourceMappingURL=main.8893acaf.chunk.js.map