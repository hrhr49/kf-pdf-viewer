(this["webpackJsonpkf-pdf-viewer"]=this["webpackJsonpkf-pdf-viewer"]||[]).push([[0],{22:function(e,t){},35:function(e,t,n){},46:function(e,t){},47:function(e,t){},48:function(e,t){},49:function(e,t){},50:function(e,t){},72:function(e,t,n){"use strict";n.r(t);n(34),n(35);var r=n(0),o=n.n(r),c=n(19),i=n.n(c),a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function u(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var l=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),o(e),c(e),i(e)}))},s=n(3),d=n(21),f=n(4),b=n(5),p=n.n(b),h=n(6),j=n(10),O=function(){var e=Object(h.a)(p.a.mark((function e(t){var n,r,o,c,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.pdf,"string"!==typeof(r=t.outlineNode).dest){e.next=7;break}return e.next=4,n.getDestination(r.dest);case 4:o=e.sent,e.next=8;break;case 7:o=r.dest;case 8:if(o){e.next=10;break}throw Error("can not get destination: ".concat(o));case 10:return c=o[0],e.next=13,n.getPageIndex(c);case 13:return i=e.sent,e.abrupt("return",i+1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(h.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getTextContent();case 2:return n=e.sent,r=n.items.map((function(e){return e.str||""})).join(""),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(h.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Array(t.numPages).fill(null).map(function(){var e=Object(h.a)(p.a.mark((function e(n,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=m,e.next=3,t.getPage(r+1);case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=3,Promise.all(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=n(32),x=n(2),k={margin:"3px 5px",padding:"1px 3px",backgroundColor:"#f9f9f9",border:"1px solid #aaa",borderRadius:"2px",boxShadow:"1px 2px 2px #ddd",fontSize:"0.85em"},w=function(e){var t=e.keys,n=null===t?[]:"string"===typeof t?[t]:t;return Object(x.jsx)(x.Fragment,{children:n.map((function(e){return Object(x.jsx)("span",{style:k,children:e},e)}))})},y=function(e){var t=e.text,n=e.matchedIndexes,r=new Set(n);return Object(x.jsx)(x.Fragment,{children:t.split("").map((function(e,t){var n=r.has(t),o={color:n?"coral":"#333",fontWeight:n?"bold":"normal"};return Object(x.jsx)("span",{style:o,children:e},t)}))})},S=n(11),C=n.n(S),P=function(e){var t=Object(r.useState)(e),n=Object(s.a)(t,2),o=n[0],c=n[1];return[o,{set:c,on:Object(r.useCallback)((function(){c(!0)}),[]),off:Object(r.useCallback)((function(){c(!1)}),[]),toggle:Object(r.useCallback)((function(){c((function(e){return!e}))}),[])}]},I=n(27),z=function e(){var t=this;Object(I.a)(this,e),this.promise=void 0,this._resolve=void 0,this._reject=void 0,this.resolve=function(e){return t._resolve(e)},this.reject=function(e){return t._reject(e)},this._resolve=function(){throw Error("_resolve is not initialized yet")},this._reject=function(){throw Error("_reject is not initialized yet")},this.promise=new Promise((function(e,n){t._resolve=e,t._reject=n}))},R=n(13),E=n.n(R),T=(n(63),function(e){var t=e.keybindings,n=e.commandCallbacks,o=e.commands,c=e.bindGlobal,i=void 0!==c&&c,a=e.enabled,u=void 0===a||a,l=e.onBeforeCommand,s=e.onAfterCommand,d=Object(r.useRef)(n);d.current=n,Object(r.useEffect)((function(){if(u)return o.forEach((function(e){var n=t[e];n&&(i?E.a.bindGlobal(n,(function(t){var n,r;t.preventDefault(),null===l||void 0===l||l(e),null===(n=(r=d.current)[e])||void 0===n||n.call(r),null===s||void 0===s||s(e)})):E.a.bind(n,(function(t){var n,r;t.preventDefault(),null===l||void 0===l||l(e),null===(n=(r=d.current)[e])||void 0===n||n.call(r),null===s||void 0===s||s(e)})))})),function(){o.forEach((function(e){var n=t[e];n&&E.a.unbind(n)}))}}),[t,u,i,o,l,s])}),L={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"80%",height:"80%",overflow:"hidden",padding:"3px",boxSizing:"border-box"}},F={margin:0,padding:"2px 8px",boxSizing:"border-box",color:"#333"},Q={width:"100%",margin:0,padding:"4px 8px",fontSize:"1.2em",boxSizing:"border-box",border:"solid 2px orange",color:"#333"},B={width:"100%",listStyleType:"none",margin:0,padding:0,color:"#333"},H={width:"100%",padding:0,margin:0,borderBottom:"1px solid #aaa",boxSizing:"border-box",color:"#333"},M=function(e){var t=e.title,n=e.placeHolder,o=e.isOpen,c=e.items,i=e.selectedIndex,a=e.onClose,u=e.onTextChange,l=e.onMouseDownOutside,s=e.renderItem,d=e.parentSelector,f=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e;null===(e=f.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"nearest"})})),Object(x.jsx)("div",{onMouseDown:l,children:Object(x.jsxs)(C.a,{isOpen:o,onRequestClose:a,style:L,contentLabel:"Command Palette",parentSelector:d,children:[t&&Object(x.jsx)("div",{style:F,children:t}),Object(x.jsx)("input",{autoFocus:!0,onChange:u,type:"text",placeholder:n,style:Q}),Object(x.jsx)("ul",{style:B,children:c.map((function(e,t){return Object(x.jsx)("li",{style:H,ref:t===i?f:void 0,children:s(e,t===i)},"".concat(e.name))}))})]})})},D=o.a.memo(M),N=["cancelQuickPick","selectItemQuickPick","nextItemQuickPick","previousItemQuickPick"],A={cancelQuickPick:"esc",selectItemQuickPick:"enter",nextItemQuickPick:"down",previousItemQuickPick:"up"},U=function(e){var t=e.renderItem,n=e.textFilter,o=Object(r.createContext)({isOpen:!1,showQuickPick:function(){throw Error("QuickPickGlobals is not initialized yet")},cancelQuickPick:function(){throw Error("QuickPickGlobals is not initialized yet")},selectItemQuickPick:function(){throw Error("QuickPickGlobals is not initialized yet")},nextItemQuickPick:function(){throw Error("QuickPickGlobals is not initialized yet")},previousItemQuickPick:function(){throw Error("QuickPickGlobals is not initialized yet")}});return{QuickPickContext:o,QuickPickProvider:function(e){var c=e.parentSelector,i=e.modalAppElement,a=void 0===i?"#root":i,u=e.children;C.a.setAppElement(a);var l=Object(r.useRef)(null),d=Object(r.useState)([]),b=Object(s.a)(d,2),p=b[0],h=b[1],j=Object(r.useState)(""),O=Object(s.a)(j,2),m=O[0],g=O[1],v=Object(r.useState)(""),k=Object(s.a)(v,2),w=k[0],y=k[1],S=function(e){var t=e.items,n=e.textFilter,o=Object(r.useState)(""),c=Object(s.a)(o,2),i=c[0],a=c[1],u=Object(r.useState)(0),l=Object(s.a)(u,2),d=l[0],f=l[1],b=P(!1),p=Object(s.a)(b,2),h=p[0],j=p[1],O=j.on,m=j.off,g=Object(r.useState)([]),v=Object(s.a)(g,2),x=v[0],k=v[1],w=Object(r.useCallback)((function(){a(""),f(0),O()}),[O]),y=Object(r.useCallback)((function(){a(""),f(0),m()}),[m]),S=Object(r.useCallback)((function(){h?y():w()}),[h,w,y]),C=Object(r.useCallback)((function(){var e,t,n=null!==(e=null===(t=x[d])||void 0===t?void 0:t.content)&&void 0!==e?e:null;return y(),n}),[d,x,y]),I=Object(r.useCallback)((function(e){a(e),f(0)}),[]),z=Object(r.useCallback)((function(){f((function(e){return Math.min(e+1,x.length-1)}))}),[x]),R=Object(r.useCallback)((function(){f((function(e){return Math.max(0,e-1)}))}),[]);return Object(r.useEffect)((function(){var e=[];t.forEach((function(t){var r=n(i,t.name);null!==r&&e.push({name:t.name,matchedIndexes:r,content:t})})),k(e)}),[i,h,t,n]),{isOpen:h,open:w,close:y,toggle:S,nextItem:z,previousItem:R,select:C,chanegeInputText:I,matchedItems:x,selectedIndex:d}}({items:p,textFilter:n}),I=S.isOpen,R=S.open,E=S.close,L=S.nextItem,F=S.previousItem,Q=S.select,B=S.chanegeInputText,H=S.matchedItems,M=S.selectedIndex,U=Object(r.useCallback)((function(e){B(e.target.value)}),[B]),W=Object(r.useCallback)((function(e,t){var n=t||{},r=n.placeHolder,o=void 0===r?"":r,c=n.title,i=void 0===c?"":c;g(o),y(i),h(e);var a=new z;return l.current=a,R(),a.promise}),[R]),G=Object(r.useCallback)((function(){var e;E(),null===(e=l.current)||void 0===e||e.resolve(null)}),[E]),_=Object(r.useCallback)((function(){var e;console.log("selectItemQuickPick");var t=Q();null===(e=l.current)||void 0===e||e.resolve(t)}),[Q]),$=Object(r.useMemo)((function(){return console.log("updated callbacks"),{cancelQuickPick:G,selectItemQuickPick:_,nextItemQuickPick:L,previousItemQuickPick:F}}),[G,_,L,F]);T({keybindings:A,commandCallbacks:$,commands:N,bindGlobal:!0,enabled:I});var q=Object(f.a)({isOpen:I,showQuickPick:W},$);return Object(x.jsxs)(o.Provider,{value:q,children:[I&&Object(x.jsx)(D,{title:w,placeHolder:m,isOpen:I,items:H,selectedIndex:M,onClose:G,onTextChange:U,onMouseDownOutside:G,renderItem:t,parentSelector:c}),u]})}}},W=n(28),G={substringFilter:function(e,t){var n=t.indexOf(e);return n>=0?Array(e.length).fill(0).map((function(e,t){return t+n})):null},regexFilter:function(e,t){try{var n=t.match(e);if(n){var r=n[0],o=n.index;return void 0===o?null:Array(r.length).fill(0).map((function(e,t){return t+o}))}return null}catch(c){return null}},fuzzyFilter:function(e,t){var n,r=[],o=0,c=Object(W.a)(e);try{for(c.s();!(n=c.n()).done;){var i=n.value;if((o=t.indexOf(i,o))<0)return null;r.push(o),o++}}catch(a){c.e(a)}finally{c.f()}return r}},_=function(e,t){var n=(null!==t&&void 0!==t?t:{}).ignoreCase,r=void 0!==n&&n;return function(t,n){return r&&(t=t.toLowerCase(),n=n.toLowerCase()),G[e](t,n)}},$={backgroundColor:"white",width:"100%",height:"100%",margin:0,padding:"4px 8px",boxSizing:"border-box"},q=Object(f.a)(Object(f.a)({},$),{},{backgroundColor:"#ddd"}),K=U({renderItem:function(e,t){var n=e.name,r=e.matchedIndexes,o=e.content;return Object(x.jsxs)("div",{style:t?q:$,children:[Object(x.jsx)(y,{text:n,matchedIndexes:r}),Object(x.jsx)(w,{keys:o.keys})]})},textFilter:_("fuzzyFilter",{ignoreCase:!0})}),J=K.QuickPickContext,Z=K.QuickPickProvider,V={backgroundColor:"white",width:"100%",height:"100%",margin:0,padding:"4px 8px",boxSizing:"border-box"},X=Object(f.a)(Object(f.a)({},V),{},{backgroundColor:"#ddd"}),Y=U({renderItem:function(e,t){var n=e.name,r=e.matchedIndexes;return Object(x.jsx)("div",{style:t?X:V,children:Object(x.jsx)(y,{text:n,matchedIndexes:r})})},textFilter:_("fuzzyFilter",{ignoreCase:!0})}),ee=Y.QuickPickContext,te=Y.QuickPickProvider,ne={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"80%",height:"20%",overflow:"hidden",padding:"3px",boxSizing:"border-box"}},re={margin:0,padding:"2px 8px",boxSizing:"border-box",color:"#333"},oe={width:"100%",margin:0,padding:"4px 8px",fontSize:"1.2em",boxSizing:"border-box",border:"solid 2px orange",color:"#333"},ce=function(e){var t=e.prompt,n=e.placeHolder,r=e.isOpen,o=e.onClose,c=e.onTextChange,i=e.onMouseDownOutside,a=e.parentSelector;return Object(x.jsx)("div",{onMouseDown:i,children:Object(x.jsxs)(C.a,{isOpen:r,onRequestClose:o,style:ne,contentLabel:"Input Box",parentSelector:a,children:[Object(x.jsx)("input",{autoFocus:!0,onChange:c,type:"text",placeholder:n,style:oe}),t&&Object(x.jsx)("div",{style:re,children:t})]})})},ie=["cancelInputBox","confirmInputBox"],ae={cancelInputBox:"esc",confirmInputBox:"enter"},ue=function(){var e=Object(r.createContext)({isOpen:!1,showInputBox:function(){throw Error("InputBoxGlobals is not initialized yet")},cancelInputBox:function(){throw Error("InputBoxGlobals is not initialized yet")},confirmInputBox:function(){throw Error("InputBoxGlobals is not initialized yet")}});return{InputBoxContext:e,InputBoxProvider:function(t){var n=t.parentSelector,o=t.modalAppElement,c=void 0===o?"#root":o,i=t.children;C.a.setAppElement(c);var a=Object(r.useRef)(null),u=Object(r.useState)(""),l=Object(s.a)(u,2),d=l[0],f=l[1],b=Object(r.useState)(""),p=Object(s.a)(b,2),h=p[0],j=p[1],O=Object(r.useState)(""),m=Object(s.a)(O,2),g=m[0],v=m[1],k=P(!1),w=Object(s.a)(k,2),y=w[0],S=w[1],I=S.on,R=S.off,E=Object(r.useCallback)((function(){I(),v("")}),[I]),L=Object(r.useCallback)((function(){R()}),[R]),F=Object(r.useCallback)((function(e){v(e.target.value)}),[]),Q=function(){var e;L(),null===(e=a.current)||void 0===e||e.resolve(null)},B=function(){var e;L(),null===(e=a.current)||void 0===e||e.resolve(g)};T({keybindings:ae,commandCallbacks:{cancelInputBox:Q,confirmInputBox:B},commands:ie,bindGlobal:!0,enabled:y});var H={isOpen:y,showInputBox:function(e){var t=e||{},n=t.placeHolder,r=void 0===n?"":n,o=t.prompt,c=void 0===o?"":o;f(r),j(c);var i=new z;return a.current=i,E(),i.promise},cancelInputBox:Q,confirmInputBox:B};return Object(x.jsxs)(e.Provider,{value:H,children:[y&&Object(x.jsx)(ce,{prompt:h,placeHolder:d,isOpen:y,onClose:Q,onTextChange:F,onMouseDownOutside:Q,parentSelector:n}),i]})}}}(),le=ue.InputBoxContext,se=ue.InputBoxProvider,de=n(33),fe={position:"fixed",top:0,left:0,width:"100%",height:"100%"},be=function(e){var t=e.onDropFile,n=e.children,r=e.accept,o=e.dropzoneRef,c=Object(de.a)({noKeyboard:!0,noClick:!0,maxFiles:1,onDrop:function(e){t(e[0])},accept:r}),i=c.getRootProps,a=c.getInputProps,u=c.open;return o&&(o.current={open:u}),Object(x.jsxs)("div",Object(f.a)(Object(f.a)({},i({onClick:function(e){return e.stopPropagation()}})),{},{style:fe,children:[Object(x.jsx)("input",Object(f.a)({},a())),n]}))},pe=["doNothing"].concat(["fullScreenOn","fullScreenOff","fullScreenToggle"],["showInfoOn","showInfoOff","showInfoToggle"],["prevPage","nextPage","firstPage","lastPage","goToPage"],["zoomReset","zoomIn","zoomOut","zoomFitWidth","zoomFitHeight"],["scrollLeft","scrollRight","scrollUp","scrollDown","scrollHalfPageDown","scrollHalfPageUp","scrollTop","scrollBottom","scrollReset"],["rotateRight","rotateLeft"],["colorInvert","invertColorRateUp","invertColorRateDown"],["sidebarToggle"],["goToOutline","goToOutlineRecursive"],["search","searchNext","searchPrev","pickSearchList","highlightToggle"],["forwardPageHistory","backwardPageHistory"],["commandPaletteOpen","fileOpen"]),he=function(e){return e.replace(/^(\w)/,(function(e){return e.toUpperCase()})).replace(/([a-z])([A-Z])/g,"$1 $2").replace(/([a-zA-Z])(\d)/g,"$1 $2").replace(/(\d)([a-zA-Z])/g,"$1 $2")},je={padding:"0px 40px",background:"white",width:"100%",height:"100%",overflow:"scroll"},Oe={borderCollapse:"collapse"},me={backgroundColor:"#777",color:"#eee",border:"1px solid #ddd",padding:"4px"},ge={padding:"4px"},ve={padding:"4px"},xe={padding:"4px"},ke=function(e){var t=e.keybindings;return Object(x.jsxs)("div",{style:je,children:[Object(x.jsx)("h3",{children:"How to Use"}),Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{children:["command palette: ",Object(x.jsx)(w,{keys:t.commandPaletteOpen})]}),Object(x.jsxs)("li",{children:["open file:",Object(x.jsxs)("ul",{children:[Object(x.jsx)("li",{children:"drag and drop PDF file here."}),Object(x.jsxs)("li",{children:["keyboard shortcuts: ",Object(x.jsx)(w,{keys:t.fileOpen})]}),Object(x.jsx)("li",{children:"choose 'File Open' command in command palette"})]})]})]}),Object(x.jsx)("h3",{children:"Keybindings"}),Object(x.jsxs)("table",{style:Oe,children:[Object(x.jsx)("thead",{style:me,children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{style:ge,children:"command"}),Object(x.jsx)("th",{style:ge,children:"keybord shortcuts"})]})}),Object(x.jsx)("tbody",{children:pe.map((function(e,n){return Object(x.jsxs)("tr",{style:Object(f.a)(Object(f.a)({},ve),{},{backgroundColor:n%2===0?"#eee":"#fff"}),children:[Object(x.jsx)("td",{style:xe,children:he(e)}),Object(x.jsx)("td",{style:xe,children:Object(x.jsx)(w,{keys:t[e]})})]},e)}))})]})]})},we=Object(r.memo)(j.b),ye={position:"fixed",zIndex:999},Se=function(e){var t=e.onItemClick,n=e.onLoadSuccess,r=e.isOpen;return Object(x.jsx)("div",{style:Object(f.a)(Object(f.a)({},ye),{},{display:r?"block":"none"}),children:Object(x.jsx)(we,{onItemClick:t,onLoadSuccess:n})})},Ce=n(20),Pe=Object(r.memo)(j.c),Ie=function(e,t){var n=e.split(t);if(n.length<=1)return e;var r=e.match(t);return n.reduce((function(e,t,n){return r&&r[n]?[].concat(Object(Ce.a)(e),[t,Object(x.jsx)("span",{style:{background:"rgba(255, 0, 0, 0.3)"},children:r[n]},n)]):[].concat(Object(Ce.a)(e),[t])}),[])},ze=function(e){var t=e.index,n=e.style,o=e.data,c=o.scale,i=o.rotate,a=o.isKeywordHighlighted,u=o.keyword,l=o.paddingSize,s=o.isScrolling,d=o.pageWidth,b=Object(r.useCallback)((function(e){var t=e.str;return Object(x.jsx)(x.Fragment,{children:Ie(t,u)})}),[u]);return console.log(n),Object(x.jsx)("div",{style:Object(f.a)(Object(f.a)({},n),{},{top:"".concat(parseFloat(n.top)+l,"px")}),children:Object(x.jsx)("div",{style:{width:"".concat(d,"px"),margin:"auto"},children:Object(x.jsx)(Pe,{pageNumber:t+1,scale:c,rotate:i,customTextRenderer:a?b:void 0,onLoadError:Object(r.useCallback)((function(e){return console.error("Error while loading page! "+e.message)}),[]),onRenderError:Object(r.useCallback)((function(e){return console.error("Error while loading page! "+e.message)}),[]),onGetTextError:Object(r.useCallback)((function(e){return console.error("Error while loading text layer items! "+e.message)}),[]),renderTextLayer:!s,renderAnnotationLayer:!1,renderInteractiveForms:!1})})})},Re=n(30),Ee=(function(){var e={anyOf:[{type:"null"},{type:"string"},{type:"array",items:[{type:"string"},{type:"string"}]}]},t={$schema:"http://json-schema.org/draft-04/schema#",type:"object",additionalProperties:!1,properties:{},required:[]};pe.forEach((function(n){t.properties[n]=e}))}(),new Re.Validator,{doNothing:null,fullScreenOn:null,fullScreenOff:null,fullScreenToggle:"f",showInfoOn:null,showInfoOff:null,showInfoToggle:"s",prevPage:["shift+space","pageup"],nextPage:["space","pagedown"],firstPage:["g","ctrl+home"],lastPage:["G","ctrl+end"],goToPage:["ctrl+g","command+g"],zoomReset:"=",zoomIn:"+",zoomOut:"-",zoomFitWidth:"w",zoomFitHeight:"e",scrollLeft:"h",scrollRight:"l",scrollUp:"k",scrollDown:"j",scrollHalfPageDown:"d",scrollHalfPageUp:"u",scrollTop:["home","z t"],scrollBottom:["end","z b"],scrollReset:"M",rotateRight:">",rotateLeft:"<",colorInvert:"i",invertColorRateUp:")",invertColorRateDown:"(",highlightToggle:"#",sidebarToggle:"b",goToOutline:"o",goToOutlineRecursive:"O",search:"/",searchNext:"n",searchPrev:"N",pickSearchList:null,forwardPageHistory:"L",backwardPageHistory:"H",commandPaletteOpen:[":","command+shift+p","ctrl+shift+p"],fileOpen:["command+o","ctrl+o"]}),Te=[],Le=function(e){void 0!==e.id&&cancelAnimationFrame(e.id)},Fe=function(e,t){if(!(Te.length>0)){var n=function(e){var t={};return t.id=requestAnimationFrame((function n(){e(),t.id=requestAnimationFrame(n)})),t}((function(){e.scrollBy(t)}));Te.push(n)}},Qe=!1,Be=function(e){var t=e.fullScreenCommandCallbacks,n=e.height,o=e.width,c=e.paddingSize,i=void 0===c?5:c,a=e.scrollStep,u=void 0===a?25:a,l=e.scrollHalfPageStep,d=void 0===l?60:l,b=e.scaleMax,m=void 0===b?4:b,k=e.scaleMin,w=void 0===k?.1:k,y=e.scaleStep,S=void 0===y?.1:y,C=e.invertColorRateStep,P=void 0===C?.05:C,I=Object(r.useState)(null),z=Object(s.a)(I,2),R=z[0],E=z[1],L=Object(r.useState)(null),F=Object(s.a)(L,2),Q=F[0],B=F[1],H=Object(r.useState)(Ee),M=Object(s.a)(H,1)[0],D=Object(r.useState)(""),N=Object(s.a)(D,2),A=N[0],U=N[1],W=Object(r.useState)(0),G=Object(s.a)(W,2),_=G[0],$=G[1],q=Object(r.useState)(0),K=Object(s.a)(q,2),Z=K[0],V=K[1],X=Object(r.useState)(1),Y=Object(s.a)(X,2),te=Y[0],ne=Y[1],re=Object(r.useState)(500),oe=Object(s.a)(re,2),ce=oe[0],ie=oe[1],ae=Object(r.useState)(1e3),ue=Object(s.a)(ae,2),se=ue[0],de=ue[1],fe=Object(r.useState)(!1),je=Object(s.a)(fe,2),Oe=je[0],me=je[1],ge=Object(r.useState)(!1),ve=Object(s.a)(ge,2),xe=ve[0],we=ve[1],ye=Object(r.useState)(1),Ce=Object(s.a)(ye,2),Pe=Ce[0],Ie=Ce[1],Re=Object(r.useState)(Qe),Be=Object(s.a)(Re,2),He=Be[0],Me=Be[1],De=Object(r.useState)(!1),Ne=Object(s.a)(De,2),Ae=Ne[0],Ue=Ne[1],We=Object(r.useState)(0),Ge=Object(s.a)(We,2),_e=Ge[0],$e=Ge[1],qe=Object(r.useState)(""),Ke=Object(s.a)(qe,2),Je=Ke[0],Ze=Ke[1],Ve=Object(r.useState)(!0),Xe=Object(s.a)(Ve,2),Ye=Xe[0],et=Xe[1],tt=Object(r.useState)([]),nt=Object(s.a)(tt,2),rt=nt[0],ot=nt[1],ct=Object(r.useState)(new Set([])),it=Object(s.a)(ct,2),at=it[0],ut=it[1],lt=Object(r.useRef)(null),st=Object(r.useRef)(null),dt=function(e){st.current&&(Fe(st.current,e),Ue(!0))},ft=Object(r.useRef)(null),bt=Object(r.useRef)(null),pt=Object(r.useRef)(null),ht=Object(r.useContext)(J),jt=Object(r.useContext)(ee),Ot=Object(r.useContext)(le),mt=[ht,jt,Ot].every((function(e){return e.isOpen})),gt=function(){var e=Object(r.useState)(-1),t=Object(s.a)(e,2),n=t[0],o=t[1];return Object(r.useEffect)((function(){var e=function(e){if("0123456789".includes(e.key)){var t=Number(e.key);o((function(e){return Math.min(10*Math.max(e,0)+t,999)}))}},t=function(e){"0123456789".includes(e.key)||o(-1)};return document.addEventListener("keypress",e),document.addEventListener("keyup",t),function(){document.removeEventListener("keypress",e),document.removeEventListener("keyup",t)}}),[]),[n,function(){o(-1)}]}(),vt=Object(s.a)(gt,2),xt=vt[0],kt=vt[1],wt=Math.max(xt,1),yt=Z/90%2===0?se*te:ce*te,St=Z/90%2===0?ce*te:se*te,Ct=yt+i,Pt=function(){var e=Object(h.a)(p.a.mark((function e(t){var n,r,o,c,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.outline,o=t.recursive,R&&r&&!mt){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,jt.showQuickPick(r.map((function(e){return{name:e.title,content:e}})));case 5:if(c=e.sent){e.next=8;break}return e.abrupt("return");case 8:if(!o||!(null===(n=c.content.items)||void 0===n?void 0:n.length)){e.next=12;break}Pt({outline:c.content.items,recursive:!0}),e.next=16;break;case 12:return e.next=14,O({pdf:R,outlineNode:c.content});case 14:i=e.sent,Et(i);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),It=function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R&&!mt&&0!==rt.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ot.showInputBox({prompt:"input word to search"});case 4:e.sent&&((t=rt.map((function(e,t){return e.includes(Je)?t+1:-1})).filter((function(e){return e>0}))).length>0?(Ze(Je),ut(new Set(t))):alert("can not find keyword: ".concat(Je)));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),zt=function(){var e=Object(h.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=Rt+(n={forward:1,backward:-1}[t]);1<=r&&r<=_&&!at.has(r);)r+=n;r<1||r>_?alert("can not find next search result"):Et(r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){var e=function(){!function(){for(;;){var e=Te.pop();if(!e)break;Le(e)}}(),Ue(!1)};return document.addEventListener("keyup",e),function(){document.removeEventListener("keyup",e)}}),[Ue]);var Rt=Math.floor((_e+n/2)/Ct)+1,Et=function(e){var t;Number.isInteger(e)&&(e<0&&(e+=_+1),e=Math.max(1,Math.min(_,e)),null===(t=lt.current)||void 0===t||t.scrollToItem(e-1))},Tt=_*Ct+i-n,Lt=function(){return alert("sorry not implemented yet")},Ft=Object(f.a)(Object(f.a)({doNothing:function(){}},t),{},{showInfoOn:function(){return Me(!0)},showInfoOff:function(){return Me(!1)},showInfoToggle:function(){return Me(!He)},prevPage:function(){var e;return null===(e=lt.current)||void 0===e?void 0:e.scrollTo(Math.max(0,_e-wt*Ct))},nextPage:function(){var e;return null===(e=lt.current)||void 0===e?void 0:e.scrollTo(Math.min(Tt,_e+wt*Ct))},firstPage:function(){return Et(wt)},lastPage:function(){return Et(xt>=1?xt:-1)},goToPage:function(){var e=Object(h.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!mt){e.next=2;break}return e.abrupt("return");case 2:return e.t0=Et,e.t1=Number,e.next=6,Ot.showInputBox({prompt:"input page number to go"});case 6:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),zoomReset:function(){return ne(1)},zoomIn:function(){return ne(Math.min(te+wt*S,m))},zoomOut:function(){return ne(Math.max(te-wt*S,w))},zoomFitWidth:function(){return ne(o/(St/te))},zoomFitHeight:function(){return ne(n/(yt/te))},scrollLeft:function(){return dt({left:-u})},scrollRight:function(){return dt({left:u})},scrollUp:function(){return dt({top:-u})},scrollDown:function(){return dt({top:u})},scrollHalfPageUp:function(){return dt({top:-d})},scrollHalfPageDown:function(){return dt({top:d})},scrollTop:function(){var e;return null===(e=lt.current)||void 0===e?void 0:e.scrollTo(i+Ct*(Rt-1))},scrollBottom:function(){var e;return null===(e=lt.current)||void 0===e?void 0:e.scrollTo(i-n+Ct*Rt)},scrollReset:Lt,rotateRight:function(){return V((Z+90)%360)},rotateLeft:function(){return V((Z+360-90)%360)},colorInvert:function(){return we(!xe)},invertColorRateUp:function(){return Ie(Math.min(Pe+wt*P,1))},invertColorRateDown:function(){return Ie(Math.max(Pe-wt*P,0))},search:It,searchNext:function(){return zt("forward")},searchPrev:function(){return zt("backward")},pickSearchList:Lt,highlightToggle:function(){return et(!Ye)},goToOutline:function(){return Pt({outline:Q,recursive:!1})},goToOutlineRecursive:function(){return Pt({outline:Q,recursive:!0})},sidebarToggle:function(){return me(!Oe)},forwardPageHistory:Lt,backwardPageHistory:Lt,commandPaletteOpen:function(){var e=Object(h.a)(p.a.mark((function e(){var t,n,r,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!mt){e.next=2;break}return e.abrupt("return");case 2:return t=pe.map((function(e){return{name:he(e),command:e,keys:M[e]}})),e.next=5,ht.showQuickPick(t);case 5:(null===(n=e.sent)||void 0===n?void 0:n.command)&&(null===(r=bt.current)||void 0===r||null===(o=r[n.command])||void 0===o||o.call(r));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fileOpen:function(){var e;return null===pt||void 0===pt||null===(e=pt.current)||void 0===e?void 0:e.open()}});bt.current=Ft,T({keybindings:M,commandCallbacks:Ft,commands:pe,onAfterCommand:kt});var Qt={scale:te,rotate:Z,isKeywordHighlighted:Ye,keyword:Je,paddingSize:i,isScrolling:Ae,pageWidth:St};return A?Object(x.jsx)(be,{onDropFile:function(e){return U(URL.createObjectURL(e))},dropzoneRef:pt,children:Object(x.jsxs)("div",{style:{background:"gray",filter:xe?"invert(".concat(Pe,")"):""},children:[Object(x.jsxs)(j.a,{inputRef:ft,file:A,onLoadSuccess:function(e){E(e),$(e.numPages),Object(h.a)(p.a.mark((function t(){var n,r,o,c,i,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getPage(1);case 2:return n=t.sent,r=Object(s.a)(n.view,4),o=r[0],c=r[1],i=r[2],a=r[3],ie(i-o),de(a-c),t.t0=ot,t.next=9,g(e);case 9:t.t1=t.sent,(0,t.t0)(t.t1);case 11:case"end":return t.stop()}}),t)})))()},options:{cMapUrl:"cmaps/",cMapPacked:!0},loading:Object(x.jsx)("div",{children:"loading..."}),onItemClick:function(e){var t=e.pageNumber;Et(Number(t))},children:[Object(x.jsx)(Se,{onItemClick:function(e){var t=e.pageNumber;Et(Number(t))},onLoadSuccess:function(e){B(e)},isOpen:Oe}),Object(x.jsx)(v.a,{height:n,itemCount:_,itemSize:Ct,width:o,overscanCount:2,itemData:Qt,onScroll:function(e){var t=e.scrollOffset;return $e(t)},ref:lt,outerRef:st,children:ze})]}),He&&Object(x.jsx)("div",{style:{position:"fixed",top:0,left:0,backgroundColor:"rgba(255, 255, 255, 0.5)"},children:Object(x.jsx)("pre",{children:Object(x.jsxs)("code",{children:["state = ",JSON.stringify({url:A,height:n,width:o,page:"".concat(Rt,"/").concat(_),scale:te,pageWidthRaw:ce,pageHeightRaw:se,pageHeight:yt,isSidebarOpen:Oe,pdfLoaded:null!==R,scrollOffset:_e,isColorInverted:xe,invertColorRate:Pe,rotate:Z,repeatCount:xt},null,"  ")]})})})]})}):Object(x.jsx)(be,{onDropFile:function(e){return U(URL.createObjectURL(e))},dropzoneRef:pt,children:Object(x.jsx)(ke,{keybindings:M})})},He=n(31),Me=function(){var e=Object(r.useRef)(null),t=Object(r.useState)(!1),n=Object(s.a)(t,2),o=n[0],c=n[1],i=Object(r.useState)(document.documentElement.clientWidth),a=Object(s.a)(i,2),u=a[0],l=a[1],f=Object(r.useState)(document.documentElement.clientHeight),b=Object(s.a)(f,2),p=b[0],h=b[1];Object(r.useEffect)((function(){var e=Object(He.a)(250,(function(){l(document.documentElement.clientWidth),h(document.documentElement.clientHeight)}));return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);var j=Object(d.b)(),O=Object(r.useCallback)((function(){o||j.enter()}),[o,j]),m=Object(r.useCallback)((function(){o&&j.exit()}),[o,j]),g=Object(r.useCallback)((function(){o?j.exit():j.enter()}),[o,j]),v=o?{width:"100%",height:"100%"}:{width:u,height:p},k=function(){return e.current?e.current:document.body},w={fullScreenOn:O,fullScreenOff:m,fullScreenToggle:g};return Object(x.jsx)(d.a,{handle:j,onChange:c,children:Object(x.jsx)("div",{ref:e,children:Object(x.jsx)(Z,{parentSelector:k,children:Object(x.jsx)(te,{parentSelector:k,children:Object(x.jsx)(se,{parentSelector:k,children:Object(x.jsx)("div",{style:v,children:Object(x.jsx)(Be,{fullScreenCommandCallbacks:w,height:p,width:u})})})})})})})};i.a.render(Object(x.jsx)(o.a.StrictMode,{children:Object(x.jsx)(Me,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat(".","/service-worker.js");a?(function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):u(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):u(t,e)}))}}(),l()}},[[72,1,2]]]);
//# sourceMappingURL=main.9e8eaf6a.chunk.js.map